1766476799
342e5e1beff0fd1f1ce5da1b35be50f6-phpdoc%3A5a847a52c3de9c8ade8961b57ade202f-ebfbdd51d7bb8ae6962b1e4927b036e8
s:59120:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjk6ImluZGV4LnBocCI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGluY2x1ZGVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGZ1bmN0aW9ucyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YTowOnt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbnRlcmZhY2VzIjthOjA6e31zOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHRyYWl0cyI7YTowOnt9czo0MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBlbnVtcyI7YTowOnt9czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBoYXNoIjtzOjMyOiJlYmZiZGQ1MWQ3YmI4YWU2OTYyYjFlNDkyN2IwMzZlOCI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjI4OiJhcHAvVmlld3MvcmFwcG9ydHMvaW5kZXgucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czo0MzQzNToiPD9waHAgcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL2xheW91dHMvaGVhZGVyLnBocCc7ID8+DQoNCjxkaXYgY2xhc3M9ImNvbnRhaW5lci1mbHVpZCBweS00Ij4NCiAgICA8ZGl2IGNsYXNzPSJyb3cgbWItNCI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNvbC0xMiI+DQogICAgICAgICAgICA8aDI+PGkgY2xhc3M9ImJpIGJpLWdyYXBoLXVwIj48L2k+IFJhcHBvcnRzIGV0IEFuYWx5c2VzPC9oMj4NCiAgICAgICAgICAgIDxwIGNsYXNzPSJ0ZXh0LW11dGVkIj5Tw6lsZWN0aW9ubmV6IHVuIGNvbXB0ZSBldCB1bmUgcMOpcmlvZGUgcG91ciBhZmZpY2hlciB2b3MgcmFwcG9ydHMgZXQgZ3JhcGhpcXVlczwvcD4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgDQogICAgPCEtLSBGb3JtdWxhaXJlIGRlIHPDqWxlY3Rpb24gLS0+DQogICAgPGRpdiBjbGFzcz0iY2FyZCBtYi00Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgIDxmb3JtIGlkPSJmb3JtU2VsZWN0aW9uUmFwcG9ydCIgY2xhc3M9InJvdyBnLTMiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC00Ij4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iY29tcHRlX3NlbGVjdGlvbiIgY2xhc3M9ImZvcm0tbGFiZWwiPkNvbXB0ZSA8c3BhbiBjbGFzcz0idGV4dC1kYW5nZXIiPio8L3NwYW4+PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPSJjb21wdGVfaWQiIGlkPSJjb21wdGVfc2VsZWN0aW9uIiBjbGFzcz0iZm9ybS1zZWxlY3QiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj4tLSBTw6lsZWN0aW9ubmVyIHVuIGNvbXB0ZSAtLTwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZm9yZWFjaCAoJGNvbXB0ZXMgYXMgJGNvbXB0ZSk6ID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iPD89ICRjb21wdGVbJ2lkJ10gPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Pz0gaHRtbHNwZWNpYWxjaGFycygkY29tcHRlWydub20nXSkgPz4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Pz0gbnVtYmVyX2Zvcm1hdCgkY29tcHRlWydzb2xkZV9hY3R1ZWwnXSA/PyAwLCAyLCAnLCcsICcgJykgPz4g4oKsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kZm9yZWFjaDsgPz4NCiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTMiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJtb2lzX3NlbGVjdGlvbiIgY2xhc3M9ImZvcm0tbGFiZWwiPk1vaXM8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9Im1vaXMiIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSJtb2lzX3NlbGVjdGlvbiIgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9ImZvcm0tc2VsZWN0Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbW9udGgteWVhci1zaG9ydGN1dHM9Im1vbnRoIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEteWVhci1zZWxlY3Q9ImFubmVlX3NlbGVjdGlvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPkFubsOpZSBjb21wbMOodGU8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIA0KICAgICAgICAgICAgICAgICAgICAgICAgJG1vaXNOb21zID0gWycnLCAnSmFudmllcicsICdGw6l2cmllcicsICdNYXJzJywgJ0F2cmlsJywgJ01haScsICdKdWluJywgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0p1aWxsZXQnLCAnQW/Du3QnLCAnU2VwdGVtYnJlJywgJ09jdG9icmUnLCAnTm92ZW1icmUnLCAnRMOpY2VtYnJlJ107DQogICAgICAgICAgICAgICAgICAgICAgICAkbW9pc0FjdHVlbCA9IChpbnQpIGRhdGUoJ24nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoJG0gPSAxOyAkbSA8PSAxMjsgJG0rKyk6IA0KICAgICAgICAgICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI8Pz0gJG0gPz4iIDw/PSAkbSA9PT0gJG1vaXNBY3R1ZWwgPyAnc2VsZWN0ZWQnIDogJycgPz4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/PSAkbW9pc05vbXNbJG1dID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRmb3I7ID8+DQogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0zIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYW5uZWVfc2VsZWN0aW9uIiBjbGFzcz0iZm9ybS1sYWJlbCI+QW5uw6llIDxzcGFuIGNsYXNzPSJ0ZXh0LWRhbmdlciI+Kjwvc3Bhbj48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9ImFubmVlIiBpZD0iYW5uZWVfc2VsZWN0aW9uIiBjbGFzcz0iZm9ybS1zZWxlY3QiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgDQogICAgICAgICAgICAgICAgICAgICAgICAkYW5uZWVBY3R1ZWxsZSA9IChpbnQpIGRhdGUoJ1knKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoJGEgPSAkYW5uZWVBY3R1ZWxsZTsgJGEgPj0gJGFubmVlQWN0dWVsbGUgLSAzOyAkYS0tKTogDQogICAgICAgICAgICAgICAgICAgICAgICA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Ijw/PSAkYSA/PiIgPD89ICRhID09PSAkYW5uZWVBY3R1ZWxsZSA/ICdzZWxlY3RlZCcgOiAnJyA/Pj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD89ICRhID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRmb3I7ID8+DQogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC0yIGQtZmxleCBhbGlnbi1pdGVtcy1lbmQiPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSB3LTEwMCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktc2VhcmNoIj48L2k+IEFmZmljaGVyDQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICANCiAgICA8IS0tIFBsYWNlaG9sZGVyIC8gUsOpc3VsdGF0cyAtLT4NCiAgICA8ZGl2IGlkPSJwbGFjZWhvbGRlciIgY2xhc3M9InRleHQtY2VudGVyIHB5LTUiPg0KICAgICAgICA8aSBjbGFzcz0iYmkgYmktZmlsZS1lYXJtYXJrLWJhci1ncmFwaCIgc3R5bGU9ImZvbnQtc2l6ZTogNXJlbTsgY29sb3I6ICNkZWUyZTY7Ij48L2k+DQogICAgICAgIDxoNCBjbGFzcz0idGV4dC1tdXRlZCBtdC0zIj5BdWN1bmUgc8OpbGVjdGlvbjwvaDQ+DQogICAgICAgIDxwIGNsYXNzPSJ0ZXh0LW11dGVkIj5WZXVpbGxleiBzw6lsZWN0aW9ubmVyIHVuIGNvbXB0ZSBldCB1bmUgcMOpcmlvZGUgcG91ciBhZmZpY2hlciBsZXMgcmFwcG9ydHM8L3A+DQogICAgPC9kaXY+DQogICAgDQogICAgPGRpdiBpZD0icmVzdWx0YXRzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICA8IS0tIEluZm9ybWF0aW9ucyBzw6lsZWN0aW9uIC0tPg0KICAgICAgICA8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1pbmZvIG1iLTQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGFsaWduLWl0ZW1zLWNlbnRlciI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLW1kLTgiPg0KICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPjxpIGNsYXNzPSJiaSBiaS1pbmZvLWNpcmNsZSI+PC9pPiBTw6lsZWN0aW9uIDo8L3N0cm9uZz4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9ImluZm9fY29tcHRlIj48L3NwYW4+IC0gDQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJpbmZvX3BlcmlvZGUiPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtNCB0ZXh0LWVuZCI+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSIgb25jbGljaz0icmVpbml0aWFsaXNlcigpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS1hcnJvdy1jb3VudGVyY2xvY2t3aXNlIj48L2k+IE1vZGlmaWVyDQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICANCiAgICAgICAgPCEtLSBSZWxldsOpIGRlIGNvbXB0ZSBQREYgLS0+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItNCBib3JkZXItcHJpbWFyeSI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWhlYWRlciBiZy1wcmltYXJ5IHRleHQtd2hpdGUiPg0KICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibWItMCI+PGkgY2xhc3M9ImJpIGJpLWZpbGUtZWFybWFyay10ZXh0Ij48L2k+IFJlbGV2w6kgZGUgQ29tcHRlIFBERjwvaDU+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGFsaWduLWl0ZW1zLWNlbnRlciI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC04Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtYi0wIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktaW5mby1jaXJjbGUgdGV4dC1wcmltYXJ5Ij48L2k+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhwb3J0ZXogdG91dGVzIGxlcyBvcMOpcmF0aW9ucyBkdSBjb21wdGUgc8OpbGVjdGlvbm7DqSBhdSBmb3JtYXQgUERGIGltcHJpbWFibGUuDQogICAgICAgICAgICAgICAgICAgICAgICA8L3A+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtNCB0ZXh0LWVuZCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBpZD0ibGllbl9yZWxldmUiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHRhcmdldD0iX2JsYW5rIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iYmkgYmktZmlsZS1wZGYiPjwvaT4gR8OpbsOpcmVyIGxlIFBERg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgDQogICAgICAgIDwhLS0gw4l2b2x1dGlvbiBkdSBzb2xkZSAtLT4NCiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBtYi00Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPSJtYi0wIj48aSBjbGFzcz0iYmkgYmktZ3JhcGgtdXAiPjwvaT4gw4l2b2x1dGlvbiBkdSBTb2xkZSBhdmVjIFByb2plY3Rpb248L2g1Pg0KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJuYl9tb2lzX2V2b2x1dGlvbiIgY2xhc3M9ImZvcm0tc2VsZWN0IHctYXV0byI+DQogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIzIj4zIGRlcm5pZXJzIG1vaXM8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjYiIHNlbGVjdGVkPjYgZGVybmllcnMgbW9pczwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMTIiPjEyIGRlcm5pZXJzIG1vaXM8L29wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjI0Ij4yNCBkZXJuaWVycyBtb2lzPC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPg0KICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9ImNoYXJ0RXZvbHV0aW9uU29sZGUiIGhlaWdodD0iODAiPjwvY2FudmFzPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICANCiAgICAgICAgPGRpdiBjbGFzcz0icm93IGctNCBtYi00Ij4NCiAgICAgICAgICAgIDwhLS0gUsOpcGFydGl0aW9uIHBhciBjYXTDqWdvcmllcyAtLT4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGgtMTAwIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPSJtYi0wIj48aSBjbGFzcz0iYmkgYmktcGllLWNoYXJ0Ij48L2k+IFLDqXBhcnRpdGlvbiBkZXMgRMOpcGVuc2VzPC9oNT4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8Y2FudmFzIGlkPSJjaGFydFJlcGFydGl0aW9uRGVwZW5zZXMiPjwvY2FudmFzPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtNiI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBoLTEwMCI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibWItMCI+PGkgY2xhc3M9ImJpIGJpLXBpZS1jaGFydCI+PC9pPiBSw6lwYXJ0aXRpb24gZGVzIFJldmVudXM8L2g1Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9ImNoYXJ0UmVwYXJ0aXRpb25SZXZlbnVzIj48L2NhbnZhcz4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIA0KICAgICAgICA8IS0tIEJhbGFuY2VzIG1lbnN1ZWxsZXMgLS0+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItNCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWhlYWRlciI+DQogICAgICAgICAgICAgICAgPGg1IGNsYXNzPSJtYi0wIj48aSBjbGFzcz0iYmkgYmktYmFyLWNoYXJ0Ij48L2k+IEJhbGFuY2VzIE1lbnN1ZWxsZXM8L2g1Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPg0KICAgICAgICAgICAgICAgIDxjYW52YXMgaWQ9ImNoYXJ0QmFsYW5jZXMiIGhlaWdodD0iODAiPjwvY2FudmFzPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICANCiAgICAgICAgPCEtLSBUZW5kYW5jZSBkJ8OpcGFyZ25lIC0tPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIG1iLTQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibWItMCI+PGkgY2xhc3M9ImJpIGJpLWdyYXBoLXVwLWFycm93Ij48L2k+IFRlbmRhbmNlIGQnw4lwYXJnbmUgKFJldmVudXMgLSBEw6lwZW5zZXMpPC9oNT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8Y2FudmFzIGlkPSJjaGFydFRlbmRhbmNlRXBhcmduZSIgaGVpZ2h0PSI4MCI+PC9jYW52YXM+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIA0KICAgICAgICA8IS0tIFJhcHBvcnQgcGFyIFRhZ3MgLS0+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItNCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWhlYWRlciBiZy1wcmltYXJ5IHRleHQtd2hpdGUiPg0KICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibWItMCI+PGkgY2xhc3M9ImJpIGJpLXRhZ3MtZmlsbCI+PC9pPiBBbmFseXNlIHBhciBUYWdzPC9oNT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyYXBwb3J0VGFncyI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRleHQtY2VudGVyIHB5LTUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3Bpbm5lci1ib3JkZXIgdGV4dC1wcmltYXJ5IiByb2xlPSJzdGF0dXMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2aXN1YWxseS1oaWRkZW4iPkNoYXJnZW1lbnQuLi48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIA0KICAgICAgICA8IS0tIFN1aXZpIGJ1ZGfDqXRhaXJlIC0tPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIG1iLTQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibWItMCI+PGkgY2xhc3M9ImJpIGJpLWNhc2gtc3RhY2siPjwvaT4gU3VpdmkgQnVkZ8OpdGFpcmUgKFByw6l2dSB2cyBSw6lhbGlzw6kpPC9oNT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8Y2FudmFzIGlkPSJjaGFydEJ1ZGdldGFpcmUiIGhlaWdodD0iODAiPjwvY2FudmFzPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICANCiAgICAgICAgPCEtLSBNb2RhbCBkw6l0YWlsIGNhdMOpZ29yaWUgLS0+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsIGZhZGUiIGlkPSJtb2RhbERldGFpbENhdGVnb3JpZSIgdGFiaW5kZXg9Ii0xIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyBtb2RhbC1sZyI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9Im1vZGFsLXRpdGxlIiBpZD0ibW9kYWxEZXRhaWxDYXRlZ29yaWVUaXRsZSI+RMOpdGFpbCBDYXTDqWdvcmllPC9oNT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWNsb3NlIiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIj48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtNiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5Sw6lwYXJ0aXRpb24gcGFyIHNvdXMtY2F0w6lnb3JpZXM8L2g2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2FudmFzIGlkPSJjaGFydFNvdXNDYXRlZ29yaWVzIj48L2NhbnZhcz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtNiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5UcmFuc2FjdGlvbnM8L2g2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJsaXN0ZVRyYW5zYWN0aW9ucyIgc3R5bGU9Im1heC1oZWlnaHQ6IDQwMHB4OyBvdmVyZmxvdy15OiBhdXRvOyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFJlbXBsaSBwYXIgSlMgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCjxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2NoYXJ0LmpzQDQuNC4wL2Rpc3QvY2hhcnQudW1kLm1pbi5qcyI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iPD89IHVybCgnYXNzZXRzL2pzL2RhcmstbW9kZS1jaGFydHMuanMnKSA/Pj92PTciPjwvc2NyaXB0Pg0KPHNjcmlwdD4NCi8vIFZhcmlhYmxlcyBnbG9iYWxlcw0KbGV0IGNvbXB0ZU5vbXMgPSB7fTsNCjw/cGhwIGZvcmVhY2ggKCRjb21wdGVzIGFzICRjb21wdGUpOiA/Pg0KY29tcHRlTm9tc1s8Pz0gJGNvbXB0ZVsnaWQnXSA/Pl0gPSAiPD89IGh0bWxzcGVjaWFsY2hhcnMoJGNvbXB0ZVsnbm9tJ10pID8+IjsNCjw/cGhwIGVuZGZvcmVhY2g7ID8+DQoNCmNvbnN0IG1vaXNOb21zID0gWycnLCAnSmFudmllcicsICdGw6l2cmllcicsICdNYXJzJywgJ0F2cmlsJywgJ01haScsICdKdWluJywgDQogICAgICAgICAgICAgICAgICAnSnVpbGxldCcsICdBb8O7dCcsICdTZXB0ZW1icmUnLCAnT2N0b2JyZScsICdOb3ZlbWJyZScsICdEw6ljZW1icmUnXTsNCg0KLy8gQ2hhcnRzDQpsZXQgY2hhcnRFdm9sdXRpb24gPSBudWxsOw0KbGV0IGNoYXJ0RGVwZW5zZXMgPSBudWxsOw0KbGV0IGNoYXJ0UmV2ZW51cyA9IG51bGw7DQpsZXQgY2hhcnRCYWxhbmNlcyA9IG51bGw7DQpsZXQgY2hhcnRUZW5kYW5jZUVwYXJnbmUgPSBudWxsOw0KbGV0IGNoYXJ0QnVkZ2V0YWlyZSA9IG51bGw7DQpsZXQgY2hhcnRTb3VzQ2F0ZWdvcmllcyA9IG51bGw7DQoNCi8vIFBhcmFtw6h0cmVzIGRlIHPDqWxlY3Rpb24NCmxldCBwYXJhbXMgPSB7DQogICAgY29tcHRlX2lkOiBudWxsLA0KICAgIGFubmVlOiBudWxsLA0KICAgIG1vaXM6IG51bGwNCn07DQoNCi8vIEdlc3Rpb24gZHUgZm9ybXVsYWlyZQ0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1TZWxlY3Rpb25SYXBwb3J0JykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSkgew0KICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICANCiAgICBjb25zdCBjb21wdGVJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wdGVfc2VsZWN0aW9uJykudmFsdWU7DQogICAgY29uc3QgbW9pcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2lzX3NlbGVjdGlvbicpLnZhbHVlOw0KICAgIGNvbnN0IGFubmVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FubmVlX3NlbGVjdGlvbicpLnZhbHVlOw0KICAgIA0KICAgIGlmICghY29tcHRlSWQgfHwgIWFubmVlKSB7DQogICAgICAgIGFsZXJ0KCdWZXVpbGxleiBzw6lsZWN0aW9ubmVyIHVuIGNvbXB0ZSBldCB1bmUgYW5uw6llJyk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgcGFyYW1zLmNvbXB0ZV9pZCA9IHBhcnNlSW50KGNvbXB0ZUlkKTsNCiAgICBwYXJhbXMuYW5uZWUgPSBwYXJzZUludChhbm5lZSk7DQogICAgcGFyYW1zLm1vaXMgPSBtb2lzID8gcGFyc2VJbnQobW9pcykgOiBudWxsOw0KICAgIA0KICAgIGFmZmljaGVyUmVzdWx0YXRzKCk7DQp9KTsNCg0KLy8gRMOpdGVjdGVyIGxlcyBjaGFuZ2VtZW50cyBkYW5zIGxlIGZvcm11bGFpcmUgcG91ciByYWZyYcOuY2hpciBhdXRvbWF0aXF1ZW1lbnQNCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmJfbW9pc19ldm9sdXRpb24nKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgaWYgKHBhcmFtcy5jb21wdGVfaWQpIHsNCiAgICAgICAgICAgIGNoYXJnZXJFdm9sdXRpb25Tb2xkZSgpOw0KICAgICAgICB9DQogICAgfSk7DQogICAgDQogICAgLy8gUmFmcmHDrmNoaXIgYXV0b21hdGlxdWVtZW50IHNpIGTDqWrDoCBhZmZpY2jDqQ0KICAgIFsnY29tcHRlX3NlbGVjdGlvbicsICdtb2lzX3NlbGVjdGlvbicsICdhbm5lZV9zZWxlY3Rpb24nXS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIC8vIFNpIGxlcyByw6lzdWx0YXRzIHNvbnQgZMOpasOgIGFmZmljaMOpcywgbGVzIHJhZnJhw65jaGlyDQogICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdGF0cycpLnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBjb21wdGVJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wdGVfc2VsZWN0aW9uJykudmFsdWU7DQogICAgICAgICAgICAgICAgY29uc3QgbW9pcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2lzX3NlbGVjdGlvbicpLnZhbHVlOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFubmVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FubmVlX3NlbGVjdGlvbicpLnZhbHVlOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChjb21wdGVJZCAmJiBhbm5lZSkgew0KICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY29tcHRlX2lkID0gcGFyc2VJbnQoY29tcHRlSWQpOw0KICAgICAgICAgICAgICAgICAgICBwYXJhbXMuYW5uZWUgPSBwYXJzZUludChhbm5lZSk7DQogICAgICAgICAgICAgICAgICAgIHBhcmFtcy5tb2lzID0gbW9pcyA/IHBhcnNlSW50KG1vaXMpIDogbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGFmZmljaGVyUmVzdWx0YXRzKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9KTsNCn0pOw0KDQpmdW5jdGlvbiBhZmZpY2hlclJlc3VsdGF0cygpIHsNCiAgICAvLyBNYXNxdWVyIGxlIHBsYWNlaG9sZGVyDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYWNlaG9sZGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICANCiAgICAvLyBBZmZpY2hlciBsZXMgcsOpc3VsdGF0cw0KICAgIGNvbnN0IHJlc3VsdGF0c0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRhdHMnKTsNCiAgICByZXN1bHRhdHNEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgDQogICAgLy8gQXR0ZW5kcmUgcXVlIGxlIERPTSBzb2l0IG1pcyDDoCBqb3VyIGF2YW50IGQnYWNjw6lkZXIgYXV4IMOpbMOpbWVudHMNCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAvLyBNZXR0cmUgw6Agam91ciBsZXMgaW5mb3MNCiAgICAgICAgY29uc3Qgbm9tQ29tcHRlID0gY29tcHRlTm9tc1twYXJhbXMuY29tcHRlX2lkXTsNCiAgICAgICAgY29uc3QgcGVyaW9kZSA9IHBhcmFtcy5tb2lzID8gYCR7bW9pc05vbXNbcGFyYW1zLm1vaXNdfSAke3BhcmFtcy5hbm5lZX1gIDogYEFubsOpZSAke3BhcmFtcy5hbm5lZX1gOw0KICAgICAgICANCiAgICAgICAgY29uc3QgaW5mb0NvbXB0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZvX2NvbXB0ZScpOw0KICAgICAgICBjb25zdCBpbmZvUGVyaW9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZvX3BlcmlvZGUnKTsNCiAgICAgICAgDQogICAgICAgIGlmIChpbmZvQ29tcHRlKSBpbmZvQ29tcHRlLnRleHRDb250ZW50ID0gbm9tQ29tcHRlOw0KICAgICAgICBpZiAoaW5mb1BlcmlvZGUpIGluZm9QZXJpb2RlLnRleHRDb250ZW50ID0gcGVyaW9kZTsNCiAgICAgICAgDQogICAgICAgIC8vIENvbnN0cnVpcmUgbCdVUkwgZHUgcmVsZXbDqQ0KICAgICAgICBsZXQgdXJsUmVsZXZlID0gYHJhcHBvcnRzL3JlbGV2ZT9jb21wdGVfaWQ9JHtwYXJhbXMuY29tcHRlX2lkfSZhbm5lZT0ke3BhcmFtcy5hbm5lZX1gOw0KICAgICAgICBpZiAocGFyYW1zLm1vaXMpIHsNCiAgICAgICAgICAgIHVybFJlbGV2ZSArPSBgJm1vaXM9JHtwYXJhbXMubW9pc31gOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdXJsUmVsZXZlICs9IGAmbW9pcz0ke25ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDF9YDsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBsaWVuUmVsZXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpZW5fcmVsZXZlJyk7DQogICAgICAgIGlmIChsaWVuUmVsZXZlKSBsaWVuUmVsZXZlLmhyZWYgPSB1cmxSZWxldmU7DQogICAgICAgIA0KICAgICAgICAvLyBDaGFyZ2VyIHRvdXMgbGVzIGdyYXBoaXF1ZXMNCiAgICAgICAgY2hhcmdlclRvdXNHcmFwaGlxdWVzKCk7DQogICAgICAgIA0KICAgICAgICAvLyBTY3JvbGwgdmVycyBsZXMgcsOpc3VsdGF0cw0KICAgICAgICByZXN1bHRhdHNEaXYuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7DQogICAgfSwgMTApOw0KfQ0KDQpmdW5jdGlvbiBjaGFyZ2VyVG91c0dyYXBoaXF1ZXMoKSB7DQogICAgY2hhcmdlckV2b2x1dGlvblNvbGRlKCk7DQogICAgY2hhcmdlclJlcGFydGl0aW9uQ2F0ZWdvcmllcygpOw0KICAgIGNoYXJnZXJCYWxhbmNlcygpOw0KICAgIGNoYXJnZXJUZW5kYW5jZUVwYXJnbmUoKTsNCiAgICBjaGFyZ2VyQnVkZ2V0YWlyZSgpOw0KICAgIGNoYXJnZXJSYXBwb3J0VGFncygpOw0KfQ0KDQpmdW5jdGlvbiByZWluaXRpYWxpc2VyKCkgew0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRhdHMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGFjZWhvbGRlcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgIA0KICAgIC8vIETDqXRydWlyZSBsZXMgY2hhcnRzDQogICAgaWYgKGNoYXJ0RXZvbHV0aW9uKSBjaGFydEV2b2x1dGlvbi5kZXN0cm95KCk7DQogICAgaWYgKGNoYXJ0RGVwZW5zZXMpIGNoYXJ0RGVwZW5zZXMuZGVzdHJveSgpOw0KICAgIGlmIChjaGFydFJldmVudXMpIGNoYXJ0UmV2ZW51cy5kZXN0cm95KCk7DQogICAgaWYgKGNoYXJ0QmFsYW5jZXMpIGNoYXJ0QmFsYW5jZXMuZGVzdHJveSgpOw0KICAgIGlmIChjaGFydFRlbmRhbmNlRXBhcmduZSkgY2hhcnRUZW5kYW5jZUVwYXJnbmUuZGVzdHJveSgpOw0KICAgIGlmIChjaGFydEJ1ZGdldGFpcmUpIGNoYXJ0QnVkZ2V0YWlyZS5kZXN0cm95KCk7DQogICAgDQogICAgLy8gU2Nyb2xsIHZlcnMgbGUgZm9ybXVsYWlyZQ0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtU2VsZWN0aW9uUmFwcG9ydCcpLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pOw0KfQ0KDQovLyDDiXZvbHV0aW9uIGR1IHNvbGRlDQphc3luYyBmdW5jdGlvbiBjaGFyZ2VyRXZvbHV0aW9uU29sZGUoKSB7DQogICAgaWYgKCFwYXJhbXMuY29tcHRlX2lkKSByZXR1cm47DQogICAgDQogICAgY29uc3QgbmJNb2lzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25iX21vaXNfZXZvbHV0aW9uJykudmFsdWU7DQogICAgY29uc3QgdXJsID0gYGFwaS9yYXBwb3J0cy9ldm9sdXRpb24tc29sZGU/Y29tcHRlX2lkPSR7cGFyYW1zLmNvbXB0ZV9pZH0mbmJfbW9pcz0ke25iTW9pc31gOw0KICAgIA0KICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTsNCiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOw0KICAgIA0KICAgIGNvbnN0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFydEV2b2x1dGlvblNvbGRlJykuZ2V0Q29udGV4dCgnMmQnKTsNCiAgICANCiAgICBpZiAoY2hhcnRFdm9sdXRpb24pIHsNCiAgICAgICAgY2hhcnRFdm9sdXRpb24uZGVzdHJveSgpOw0KICAgIH0NCiAgICANCiAgICBjb25zdCBkYXRhc2V0cyA9IFt7DQogICAgICAgIGxhYmVsOiAnU29sZGUgaGlzdG9yaXF1ZScsDQogICAgICAgIGRhdGE6IGRhdGEuaGlzdG9yaXF1ZS5tYXAoZCA9PiBkLnNvbGRlKSwNCiAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2IoNzUsIDE5MiwgMTkyKScsDQogICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNzUsIDE5MiwgMTkyLCAwLjEpJywNCiAgICAgICAgdGVuc2lvbjogMC4xLA0KICAgICAgICBmaWxsOiB0cnVlDQogICAgfV07DQogICAgDQogICAgLy8gQWpvdXRlciBsYSBwcm9qZWN0aW9uIHNpIGRpc3BvbmlibGUNCiAgICBpZiAoZGF0YS5wcm9qZWN0aW9uICYmIGRhdGEucHJvamVjdGlvbi5sZW5ndGggPiAwKSB7DQogICAgICAgIGRhdGFzZXRzLnB1c2goew0KICAgICAgICAgICAgbGFiZWw6ICdQcm9qZWN0aW9uIChyw6ljdXJyZW5jZXMpJywNCiAgICAgICAgICAgIGRhdGE6IG5ldyBBcnJheShkYXRhLmhpc3RvcmlxdWUubGVuZ3RoIC0gMSkuZmlsbChudWxsKS5jb25jYXQoWw0KICAgICAgICAgICAgICAgIGRhdGEuaGlzdG9yaXF1ZVtkYXRhLmhpc3RvcmlxdWUubGVuZ3RoIC0gMV0uc29sZGUsDQogICAgICAgICAgICAgICAgLi4uZGF0YS5wcm9qZWN0aW9uLm1hcChkID0+IGQuc29sZGUpDQogICAgICAgICAgICBdKSwNCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiKDI1NSwgMTU5LCA2NCknLA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsIDE1OSwgNjQsIDAuMSknLA0KICAgICAgICAgICAgYm9yZGVyRGFzaDogWzUsIDVdLA0KICAgICAgICAgICAgdGVuc2lvbjogMC4xLA0KICAgICAgICAgICAgZmlsbDogZmFsc2UNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIA0KICAgIGNvbnN0IGFsbExhYmVscyA9IFsNCiAgICAgICAgLi4uZGF0YS5oaXN0b3JpcXVlLm1hcChkID0+IG5ldyBEYXRlKGQuZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicpKSwNCiAgICAgICAgLi4uKGRhdGEucHJvamVjdGlvbiB8fCBbXSkubWFwKGQgPT4gbmV3IERhdGUoZC5kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJykpDQogICAgXTsNCiAgICANCiAgICBjaGFydEV2b2x1dGlvbiA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICBsYWJlbHM6IGFsbExhYmVscywNCiAgICAgICAgICAgIGRhdGFzZXRzOiBkYXRhc2V0cw0KICAgICAgICB9LA0KICAgICAgICBvcHRpb25zOiB7DQogICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLA0KICAgICAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogdHJ1ZSwNCiAgICAgICAgICAgIHBsdWdpbnM6IHsNCiAgICAgICAgICAgICAgICBsZWdlbmQ6IHsNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGF0YXNldC5sYWJlbCArICc6ICcgKyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wYXJzZWQueS50b0ZpeGVkKDIpICsgJyDigqwnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNjYWxlczogew0KICAgICAgICAgICAgICAgIHk6IHsNCiAgICAgICAgICAgICAgICAgICAgdGlja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b0ZpeGVkKDApICsgJyDigqwnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCi8vIFLDqXBhcnRpdGlvbiBwYXIgY2F0w6lnb3JpZXMNCmFzeW5jIGZ1bmN0aW9uIGNoYXJnZXJSZXBhcnRpdGlvbkNhdGVnb3JpZXMoKSB7DQogICAgYXdhaXQgY2hhcmdlclJlcGFydGl0aW9uKCdkZWJpdCcsICdjaGFydFJlcGFydGl0aW9uRGVwZW5zZXMnLCAnY2hhcnREZXBlbnNlcycpOw0KICAgIGF3YWl0IGNoYXJnZXJSZXBhcnRpdGlvbignY3JlZGl0JywgJ2NoYXJ0UmVwYXJ0aXRpb25SZXZlbnVzJywgJ2NoYXJ0UmV2ZW51cycpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBjaGFyZ2VyUmVwYXJ0aXRpb24odHlwZSwgY2FudmFzSWQsIGNoYXJ0VmFyKSB7DQogICAgbGV0IHVybCA9IGBhcGkvcmFwcG9ydHMvcmVwYXJ0aXRpb24tY2F0ZWdvcmllcz90eXBlPSR7dHlwZX0mYW5uZWU9JHtwYXJhbXMuYW5uZWV9YDsNCiAgICBpZiAocGFyYW1zLmNvbXB0ZV9pZCkgdXJsICs9IGAmY29tcHRlX2lkPSR7cGFyYW1zLmNvbXB0ZV9pZH1gOw0KICAgIGlmIChwYXJhbXMubW9pcykgdXJsICs9IGAmbW9pcz0ke3BhcmFtcy5tb2lzfWA7DQogICAgDQogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgDQogICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzSWQpLmdldENvbnRleHQoJzJkJyk7DQogICAgDQogICAgaWYgKHR5cGUgPT09ICdkZWJpdCcgJiYgY2hhcnREZXBlbnNlcykgew0KICAgICAgICBjaGFydERlcGVuc2VzLmRlc3Ryb3koKTsNCiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjcmVkaXQnICYmIGNoYXJ0UmV2ZW51cykgew0KICAgICAgICBjaGFydFJldmVudXMuZGVzdHJveSgpOw0KICAgIH0NCiAgICANCiAgICBjb25zdCBjaGFydCA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ3BpZScsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgIGxhYmVsczogZGF0YS5tYXAoYyA9PiBjLm5vbSksDQogICAgICAgICAgICBkYXRhc2V0czogW3sNCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLm1hcChjID0+IGMudG90YWwpLA0KICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogZGF0YS5tYXAoYyA9PiBjLmNvdWxldXIgfHwgZ2V0UmFuZG9tQ29sb3IoKSkNCiAgICAgICAgICAgIH1dDQogICAgICAgIH0sDQogICAgICAgIG9wdGlvbnM6IHsNCiAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsDQogICAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiB0cnVlLA0KICAgICAgICAgICAgcGx1Z2luczogew0KICAgICAgICAgICAgICAgIGxlZ2VuZDogew0KICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0Jw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBjb250ZXh0LmRhdGFzZXQuZGF0YS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gKChjb250ZXh0LnBhcnNlZCAvIHRvdGFsKSAqIDEwMCkudG9GaXhlZCgxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5sYWJlbCArICc6ICcgKyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wYXJzZWQudG9GaXhlZCgyKSArICcg4oKsICgnICsgcGVyY2VudCArICclKSc7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25DbGljazogKGV2ZW50LCBlbGVtZW50cykgPT4gew0KICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudHNbMF0uaW5kZXg7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGRhdGFbaW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICBhZmZpY2hlckRldGFpbENhdGVnb3JpZShjYXRlZ29yaWUuaWQsIGNhdGVnb3JpZS5ub20pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIA0KICAgIGlmICh0eXBlID09PSAnZGViaXQnKSB7DQogICAgICAgIGNoYXJ0RGVwZW5zZXMgPSBjaGFydDsNCiAgICB9IGVsc2Ugew0KICAgICAgICBjaGFydFJldmVudXMgPSBjaGFydDsNCiAgICB9DQp9DQoNCi8vIEJhbGFuY2VzIG1lbnN1ZWxsZXMNCmFzeW5jIGZ1bmN0aW9uIGNoYXJnZXJCYWxhbmNlcygpIHsNCiAgICBsZXQgdXJsID0gYGFwaS9yYXBwb3J0cy9iYWxhbmNlcz9hbm5lZT0ke3BhcmFtcy5hbm5lZX1gOw0KICAgIGlmIChwYXJhbXMuY29tcHRlX2lkKSB1cmwgKz0gYCZjb21wdGVfaWQ9JHtwYXJhbXMuY29tcHRlX2lkfWA7DQogICAgDQogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgDQogICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJ0QmFsYW5jZXMnKS5nZXRDb250ZXh0KCcyZCcpOw0KICAgIA0KICAgIGlmIChjaGFydEJhbGFuY2VzKSB7DQogICAgICAgIGNoYXJ0QmFsYW5jZXMuZGVzdHJveSgpOw0KICAgIH0NCiAgICANCiAgICBjb25zdCBtb2lzTm9tc0NoYXJ0ID0gWydKYW4nLCAnRsOpdicsICdNYXInLCAnQXZyJywgJ01haScsICdKdWluJywgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAnSnVpbCcsICdBb8O7dCcsICdTZXAnLCAnT2N0JywgJ05vdicsICdEw6ljJywgJ0FubsOpZSddOw0KICAgIA0KICAgIC8vIFPDqXBhcmVyIGxlcyBkb25uw6llcyBtZW5zdWVsbGVzIGV0IGFubnVlbGxlcw0KICAgIGNvbnN0IGRhdGFNZW5zdWVsbGVzID0gZGF0YS5zbGljZSgwLCAxMik7DQogICAgY29uc3QgZGF0YUFubnVlbGxlID0gZGF0YVsxMl07DQogICAgDQogICAgLy8gQ2FsY3VsZXIgbGVzIGJhbGFuY2VzIHBvdXIgY2hhcXVlIG1vaXMNCiAgICBjb25zdCBiYWxhbmNlc01lbnN1ZWxsZXMgPSBkYXRhTWVuc3VlbGxlcy5tYXAobSA9PiBtLmNyZWRpdCAtIE1hdGguYWJzKG0uZGViaXQpKTsNCiAgICBjb25zdCBiYWxhbmNlQW5udWVsbGUgPSBkYXRhQW5udWVsbGUuY3JlZGl0IC0gTWF0aC5hYnMoZGF0YUFubnVlbGxlLmRlYml0KTsNCiAgICANCiAgICAvLyBDb3VsZXVycyBkeW5hbWlxdWVzIHNlbG9uIGxhIGJhbGFuY2UgKHJvdWdlIHNpIG7DqWdhdGlmLCB2ZXJ0IHNpIHBvc2l0aWYpDQogICAgY29uc3QgY291bGV1cnNCYWxhbmNlID0gYmFsYW5jZXNNZW5zdWVsbGVzLm1hcChiID0+IA0KICAgICAgICBiIDwgMCA/ICdyZ2JhKDIyMCwgNTMsIDY5LCAwLjgpJyA6ICdyZ2JhKDQwLCAxNjcsIDY5LCAwLjgpJw0KICAgICk7DQogICAgY29uc3QgY291bGV1ckJhbGFuY2VBbm51ZWxsZSA9IGJhbGFuY2VBbm51ZWxsZSA8IDAgPyAncmdiYSgyMjAsIDUzLCA2OSwgMC45NSknIDogJ3JnYmEoNDAsIDE2NywgNjksIDAuOTUpJzsNCiAgICANCiAgICBjaGFydEJhbGFuY2VzID0gbmV3IENoYXJ0KGN0eCwgew0KICAgICAgICB0eXBlOiAnYmFyJywNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgbGFiZWxzOiBtb2lzTm9tc0NoYXJ0LA0KICAgICAgICAgICAgZGF0YXNldHM6IFt7DQogICAgICAgICAgICAgICAgbGFiZWw6ICdEw6lwZW5zZXMgKG1lbnN1ZWxsZXMpJywNCiAgICAgICAgICAgICAgICAvLyBVdGlsaXNlciBNYXRoLmFicygpIHBvdXIgYWZmaWNoZXIgZW4gcG9zaXRpZiAoZmFjaWxpdGUgbGEgY29tcGFyYWlzb24gdmlzdWVsbGUpDQogICAgICAgICAgICAgICAgZGF0YTogWy4uLmRhdGFNZW5zdWVsbGVzLm1hcChtID0+IE1hdGguYWJzKG0uZGViaXQpKSwgbnVsbF0sDQogICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsIDk5LCAxMzIsIDAuNyknLA0KICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiKDI1NSwgOTksIDEzMiknLA0KICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAxLA0KICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5JywNCiAgICAgICAgICAgICAgICBvcmRlcjogMg0KICAgICAgICAgICAgfSwgew0KICAgICAgICAgICAgICAgIGxhYmVsOiAnUmV2ZW51cyAobWVuc3VlbHMpJywNCiAgICAgICAgICAgICAgICBkYXRhOiBbLi4uZGF0YU1lbnN1ZWxsZXMubWFwKG0gPT4gbS5jcmVkaXQpLCBudWxsXSwNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDc1LCAxOTIsIDE5MiwgMC43KScsDQogICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2IoNzUsIDE5MiwgMTkyKScsDQogICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDEsDQogICAgICAgICAgICAgICAgeUF4aXNJRDogJ3knLA0KICAgICAgICAgICAgICAgIG9yZGVyOiAyDQogICAgICAgICAgICB9LCB7DQogICAgICAgICAgICAgICAgbGFiZWw6ICdCYWxhbmNlIChtZW5zdWVsbGVzKScsDQogICAgICAgICAgICAgICAgZGF0YTogWy4uLmJhbGFuY2VzTWVuc3VlbGxlcywgbnVsbF0sDQogICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb3VsZXVyc0JhbGFuY2UsDQogICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvdWxldXJzQmFsYW5jZS5tYXAoYyA9PiBjLnJlcGxhY2UoJzAuOCcsICcxJykpLA0KICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLA0KICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5JywNCiAgICAgICAgICAgICAgICBvcmRlcjogMSwNCiAgICAgICAgICAgICAgICAvLyBUeXBlIGxpZ25lIHBvdXIgbWlldXggdmlzdWFsaXNlciBsYSB0ZW5kYW5jZQ0KICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgICAgICAgICBmaWxsOiBmYWxzZSwNCiAgICAgICAgICAgICAgICB0ZW5zaW9uOiAwLjMsDQogICAgICAgICAgICAgICAgcG9pbnRSYWRpdXM6IDUsDQogICAgICAgICAgICAgICAgcG9pbnRIb3ZlclJhZGl1czogNw0KICAgICAgICAgICAgfSwgew0KICAgICAgICAgICAgICAgIGxhYmVsOiAnRMOpcGVuc2VzIChhbm7DqWUpJywNCiAgICAgICAgICAgICAgICAvLyBVdGlsaXNlciBNYXRoLmFicygpIHBvdXIgYWZmaWNoZXIgZW4gcG9zaXRpZg0KICAgICAgICAgICAgICAgIGRhdGE6IFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBNYXRoLmFicyhkYXRhQW5udWVsbGUuZGViaXQpXSwNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwgOTksIDEzMiwgMC45NSknLA0KICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiKDI1NSwgOTksIDEzMiknLA0KICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLA0KICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5MScsDQogICAgICAgICAgICAgICAgb3JkZXI6IDINCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICBsYWJlbDogJ1JldmVudXMgKGFubsOpZSknLA0KICAgICAgICAgICAgICAgIGRhdGE6IFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBkYXRhQW5udWVsbGUuY3JlZGl0XSwNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDc1LCAxOTIsIDE5MiwgMC45NSknLA0KICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiKDc1LCAxOTIsIDE5MiknLA0KICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLA0KICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5MScsDQogICAgICAgICAgICAgICAgb3JkZXI6IDINCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICBsYWJlbDogJ0JhbGFuY2UgKGFubsOpZSknLA0KICAgICAgICAgICAgICAgIGRhdGE6IFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBiYWxhbmNlQW5udWVsbGVdLA0KICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY291bGV1ckJhbGFuY2VBbm51ZWxsZSwNCiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY291bGV1ckJhbGFuY2VBbm51ZWxsZS5yZXBsYWNlKCcwLjk1JywgJzEnKSwNCiAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMywNCiAgICAgICAgICAgICAgICB5QXhpc0lEOiAneTEnLA0KICAgICAgICAgICAgICAgIG9yZGVyOiAxLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgICAgICAgICBwb2ludFJhZGl1czogOCwNCiAgICAgICAgICAgICAgICBwb2ludEhvdmVyUmFkaXVzOiAxMA0KICAgICAgICAgICAgfV0NCiAgICAgICAgfSwNCiAgICAgICAgb3B0aW9uczogew0KICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwNCiAgICAgICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IHRydWUsDQogICAgICAgICAgICBpbnRlcmFjdGlvbjogew0KICAgICAgICAgICAgICAgIG1vZGU6ICdpbmRleCcsDQogICAgICAgICAgICAgICAgaW50ZXJzZWN0OiBmYWxzZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHBsdWdpbnM6IHsNCiAgICAgICAgICAgICAgICBsZWdlbmQ6IHsNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uKGl0ZW0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZmZpY2hlciB0b3V0ZXMgbGVzIGzDqWdlbmRlcyBzYXVmIGxlcyBhbm51ZWxsZXMgc8OpcGFyw6ltZW50DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpdGVtLnRleHQuaW5jbHVkZXMoJyhhbm7DqWUpJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHRvb2x0aXA6IHsNCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnBhcnNlZC55ID09PSBudWxsKSByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IGNvbnRleHQuZGF0YXNldC5sYWJlbA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnIChtZW5zdWVsbGVzKScsICcnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnIChtZW5zdWVscyknLCAnJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyAoYW5uw6llKScsICcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwgKyAnOiAnICsgY29udGV4dC5wYXJzZWQueS50b0ZpeGVkKDIpICsgJyDigqwnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3RlcjogZnVuY3Rpb24oaXRlbXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZEl0ZW1zID0gaXRlbXMuZmlsdGVyKGkgPT4gaS5wYXJzZWQueSAhPT0gbnVsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkSXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaSBjJ2VzdCB1biBtb2lzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkSXRlbXNbMF0uZGF0YUluZGV4IDwgMTIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGViaXRzID0gdmFsaWRJdGVtcy5maW5kKGkgPT4gaS5kYXRhc2V0LmxhYmVsLmluY2x1ZGVzKCdEw6lwZW5zZXMnKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRpdHMgPSB2YWxpZEl0ZW1zLmZpbmQoaSA9PiBpLmRhdGFzZXQubGFiZWwuaW5jbHVkZXMoJ1JldmVudXMnKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWJpdHMgJiYgY3JlZGl0cykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9IGNyZWRpdHMucGFyc2VkLnkgLSBkZWJpdHMucGFyc2VkLnk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBiYWxhbmNlIDwgMCA/ICfimqDvuI8gQVRURU5USU9OIC0gRMOpZmljaXQnIDogJ+KchSDDiXBhcmduZSBwb3NpdGl2ZSc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0JhbGFuY2U6ICcgKyBiYWxhbmNlLnRvRml4ZWQoMikgKyAnIOKCrFxuJyArIHN0YXR1czsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpIGMnZXN0IGwnYW5uw6llDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlYml0cyA9IHZhbGlkSXRlbXMuZmluZChpID0+IGkuZGF0YXNldC5sYWJlbC5pbmNsdWRlcygnRMOpcGVuc2VzJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVkaXRzID0gdmFsaWRJdGVtcy5maW5kKGkgPT4gaS5kYXRhc2V0LmxhYmVsLmluY2x1ZGVzKCdSZXZlbnVzJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGViaXRzICYmIGNyZWRpdHMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSBjcmVkaXRzLnBhcnNlZC55IC0gZGViaXRzLnBhcnNlZC55Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gYmFsYW5jZSA8IDAgPyAn4pqg77iPIEFUVEVOVElPTiAtIETDqWZpY2l0IGFubnVlbCcgOiAn4pyFIMOJcGFyZ25lIGFubnVlbGxlIHBvc2l0aXZlJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnQmFsYW5jZSBhbm51ZWxsZTogJyArIGJhbGFuY2UudG9GaXhlZCgyKSArICcg4oKsXG4nICsgc3RhdHVzOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAvLyBDb3VsZXVyIGRlIGZvbmQgZHUgdG9vbHRpcCBzZWxvbiBsYSBiYWxhbmNlDQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YUluZGV4ID0gY29udGV4dC50b29sdGlwLmRhdGFQb2ludHNbMF0uZGF0YUluZGV4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFJbmRleCA8IDEyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9IGJhbGFuY2VzTWVuc3VlbGxlc1tkYXRhSW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYWxhbmNlIDwgMCA/ICdyZ2JhKDIyMCwgNTMsIDY5LCAwLjkpJyA6ICdyZ2JhKDUyLCA1OCwgNjQsIDAuOSknOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFsYW5jZUFubnVlbGxlIDwgMCA/ICdyZ2JhKDIyMCwgNTMsIDY5LCAwLjkpJyA6ICdyZ2JhKDUyLCA1OCwgNjQsIDAuOSknOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAvLyBQbHVnaW4gcG91ciBham91dGVyIHVuZSB6b25lIGQnYWxlcnRlIHZpc3VlbGxlDQogICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogew0KICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uczogew0KICAgICAgICAgICAgICAgICAgICAgICAgbGluZTE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeU1pbjogMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5TWF4OiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjMpJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJEYXNoOiBbNSwgNV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ1NldWlsIGRcJ8OpcXVpbGlicmUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2VuZCcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc2NhbGVzOiB7DQogICAgICAgICAgICAgICAgeTogew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJywNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdsZWZ0JywNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTW9udGFudHMgbWVuc3VlbHMgKOKCrCknDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIC8vIEluY2x1cmUgMCBldCBsZXMgdmFsZXVycyBuw6lnYXRpdmVzIHBvdXIgbGEgYmFsYW5jZQ0KICAgICAgICAgICAgICAgICAgICBncmFjZTogJzUlJywNCiAgICAgICAgICAgICAgICAgICAgdGlja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b0ZpeGVkKDApICsgJyDigqwnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAvLyBMaWduZSBkZSBncmlsbGUgcGx1cyB2aXNpYmxlIHN1ciBsZSB6w6lybw0KICAgICAgICAgICAgICAgICAgICBncmlkOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnRpY2sudmFsdWUgPT09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyZ2JhKDAsIDAsIDAsIDAuNSknOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYmEoMCwgMCwgMCwgMC4xKSc7DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQudGljay52YWx1ZSA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHkxOiB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLA0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JywNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVG90YWwgYW5udWVsICjigqwpJw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBncmlkOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24odmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlIC8gMTAwMCkudG9GaXhlZCgxKSArICdrIOKCrCc7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0NCg0KLy8gVGVuZGFuY2UgZCfDqXBhcmduZQ0KYXN5bmMgZnVuY3Rpb24gY2hhcmdlclRlbmRhbmNlRXBhcmduZSgpIHsNCiAgICBsZXQgdXJsID0gYGFwaS9yYXBwb3J0cy90ZW5kYW5jZS1lcGFyZ25lP2FubmVlPSR7cGFyYW1zLmFubmVlfWA7DQogICAgaWYgKHBhcmFtcy5jb21wdGVfaWQpIHVybCArPSBgJmNvbXB0ZV9pZD0ke3BhcmFtcy5jb21wdGVfaWR9YDsNCiAgICANCiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7DQogICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsNCiAgICANCiAgICBjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhcnRUZW5kYW5jZUVwYXJnbmUnKS5nZXRDb250ZXh0KCcyZCcpOw0KICAgIA0KICAgIGlmIChjaGFydFRlbmRhbmNlRXBhcmduZSkgew0KICAgICAgICBjaGFydFRlbmRhbmNlRXBhcmduZS5kZXN0cm95KCk7DQogICAgfQ0KICAgIA0KICAgIGNvbnN0IG1vaXNOb21zQ2hhcnQgPSBbJ0phbicsICdGw6l2JywgJ01hcicsICdBdnInLCAnTWFpJywgJ0p1aW4nLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICdKdWlsJywgJ0Fvw7t0JywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0TDqWMnXTsNCiAgICANCiAgICBjaGFydFRlbmRhbmNlRXBhcmduZSA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICBsYWJlbHM6IG1vaXNOb21zQ2hhcnQsDQogICAgICAgICAgICBkYXRhc2V0czogW3sNCiAgICAgICAgICAgICAgICBsYWJlbDogJ1JldmVudXMnLA0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEubWFwKG0gPT4gbS5yZXZlbnVzKSwNCiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3JnYig3NSwgMTkyLCAxOTIpJywNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDc1LCAxOTIsIDE5MiwgMC4xKScsDQogICAgICAgICAgICAgICAgdGVuc2lvbjogMC4zLA0KICAgICAgICAgICAgICAgIGZpbGw6IGZhbHNlDQogICAgICAgICAgICB9LCB7DQogICAgICAgICAgICAgICAgbGFiZWw6ICdEw6lwZW5zZXMnLA0KICAgICAgICAgICAgICAgIC8vIFV0aWxpc2VyIE1hdGguYWJzKCkgcG91ciBhZmZpY2hlciBlbiBwb3NpdGlmIChjb2jDqXJlbmNlIGF2ZWMgZ3JhcGhpcXVlIGJhbGFuY2VzKQ0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEubWFwKG0gPT4gTWF0aC5hYnMobS5kZXBlbnNlcykpLA0KICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiKDI1NSwgOTksIDEzMiknLA0KICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCA5OSwgMTMyLCAwLjEpJywNCiAgICAgICAgICAgICAgICB0ZW5zaW9uOiAwLjMsDQogICAgICAgICAgICAgICAgZmlsbDogZmFsc2UNCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICBsYWJlbDogJ8OJcGFyZ25lJywNCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLm1hcChtID0+IG0uZXBhcmduZSksDQogICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2IoNTQsIDE2MiwgMjM1KScsDQogICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSg1NCwgMTYyLCAyMzUsIDAuMiknLA0KICAgICAgICAgICAgICAgIHRlbnNpb246IDAuMywNCiAgICAgICAgICAgICAgICBmaWxsOiB0cnVlDQogICAgICAgICAgICB9XQ0KICAgICAgICB9LA0KICAgICAgICBvcHRpb25zOiB7DQogICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLA0KICAgICAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogdHJ1ZSwNCiAgICAgICAgICAgIHBsdWdpbnM6IHsNCiAgICAgICAgICAgICAgICBsZWdlbmQ6IHsNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGF0YXNldC5sYWJlbCArICc6ICcgKyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wYXJzZWQueS50b0ZpeGVkKDIpICsgJyDigqwnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNjYWxlczogew0KICAgICAgICAgICAgICAgIHk6IHsNCiAgICAgICAgICAgICAgICAgICAgdGlja3M6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b0ZpeGVkKDApICsgJyDigqwnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQp9DQoNCi8vIFN1aXZpIGJ1ZGfDqXRhaXJlDQphc3luYyBmdW5jdGlvbiBjaGFyZ2VyQnVkZ2V0YWlyZSgpIHsNCiAgICBsZXQgdXJsID0gYGFwaS9yYXBwb3J0cy9idWRnZXRhaXJlP2FubmVlPSR7cGFyYW1zLmFubmVlfWA7DQogICAgaWYgKHBhcmFtcy5jb21wdGVfaWQpIHVybCArPSBgJmNvbXB0ZV9pZD0ke3BhcmFtcy5jb21wdGVfaWR9YDsNCiAgICBpZiAocGFyYW1zLm1vaXMpIHVybCArPSBgJm1vaXM9JHtwYXJhbXMubW9pc31gOw0KICAgIA0KICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTsNCiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOw0KICAgIA0KICAgIGNvbnN0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFydEJ1ZGdldGFpcmUnKS5nZXRDb250ZXh0KCcyZCcpOw0KICAgIA0KICAgIGlmIChjaGFydEJ1ZGdldGFpcmUpIHsNCiAgICAgICAgY2hhcnRCdWRnZXRhaXJlLmRlc3Ryb3koKTsNCiAgICAgICAgY2hhcnRCdWRnZXRhaXJlID0gbnVsbDsNCiAgICB9DQogICAgDQogICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7DQogICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpOw0KICAgICAgICBjdHguZm9udCA9ICcxNnB4IEFyaWFsJzsNCiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjNmM3NTdkJzsNCiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOw0KICAgICAgICBjdHguZmlsbFRleHQoJ0F1Y3VuIGJ1ZGdldCBkw6lmaW5pIHBvdXIgY2V0dGUgcMOpcmlvZGUnLCBjdHguY2FudmFzLndpZHRoIC8gMiwgY3R4LmNhbnZhcy5oZWlnaHQgLyAyKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICANCiAgICBjaGFydEJ1ZGdldGFpcmUgPSBuZXcgQ2hhcnQoY3R4LCB7DQogICAgICAgIHR5cGU6ICdiYXInLA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICBsYWJlbHM6IGRhdGEubWFwKGQgPT4gZC5jYXRlZ29yaWUpLA0KICAgICAgICAgICAgZGF0YXNldHM6IFt7DQogICAgICAgICAgICAgICAgbGFiZWw6ICdCdWRnZXQgcHLDqXZ1JywNCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLm1hcChkID0+IGQucHJldnUpLA0KICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNTQsIDE2MiwgMjM1LCAwLjcpJywNCiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ3JnYig1NCwgMTYyLCAyMzUpJywNCiAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMQ0KICAgICAgICAgICAgfSwgew0KICAgICAgICAgICAgICAgIGxhYmVsOiAnUsOpYWxpc8OpJywNCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLm1hcChkID0+IGQucmVhbGlzZSksDQogICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBkYXRhLm1hcChkID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQucmVhbGlzZSA+IGQucHJldnUgPyAncmdiYSgyNTUsIDk5LCAxMzIsIDAuNyknIDogJ3JnYmEoNzUsIDE5MiwgMTkyLCAwLjcpJzsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogZGF0YS5tYXAoZCA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnJlYWxpc2UgPiBkLnByZXZ1ID8gJ3JnYigyNTUsIDk5LCAxMzIpJyA6ICdyZ2IoNzUsIDE5MiwgMTkyKSc7DQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDENCiAgICAgICAgICAgIH1dDQogICAgICAgIH0sDQogICAgICAgIG9wdGlvbnM6IHsNCiAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsDQogICAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiB0cnVlLA0KICAgICAgICAgICAgcGx1Z2luczogew0KICAgICAgICAgICAgICAgIGxlZ2VuZDogew0KICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB0b29sdGlwOiB7DQogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrczogew0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kYXRhc2V0LmxhYmVsICsgJzogJyArIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhcnNlZC55LnRvRml4ZWQoMikgKyAnIOKCrCc7DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiBmdW5jdGlvbihpdGVtcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldnUgPSBpdGVtc1swXS5wYXJzZWQueTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhbGlzZSA9IGl0ZW1zWzFdLnBhcnNlZC55Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gcmVhbGlzZSAtIHByZXZ1Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gcHJldnUgPiAwID8gKChkaWZmIC8gcHJldnUpICogMTAwKS50b0ZpeGVkKDEpIDogMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGDDiWNhcnQ6ICR7ZGlmZi50b0ZpeGVkKDIpfSDigqwgKCR7cGVyY2VudH0lKWA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNjYWxlczogew0KICAgICAgICAgICAgICAgIHk6IHsNCiAgICAgICAgICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWUsDQogICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24odmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgwKSArICcg4oKsJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pOw0KfQ0KDQovLyBBZmZpY2hlciBkw6l0YWlsIGNhdMOpZ29yaWUgKGRyaWxsLWRvd24pDQphc3luYyBmdW5jdGlvbiBhZmZpY2hlckRldGFpbENhdGVnb3JpZShjYXRlZ29yaWVJZCwgY2F0ZWdvcmllTm9tKSB7DQogICAgbGV0IHVybCA9IGBhcGkvcmFwcG9ydHMvZGV0YWlsLWNhdGVnb3JpZT9jYXRlZ29yaWVfaWQ9JHtjYXRlZ29yaWVJZH0mYW5uZWU9JHtwYXJhbXMuYW5uZWV9YDsNCiAgICBpZiAocGFyYW1zLmNvbXB0ZV9pZCkgdXJsICs9IGAmY29tcHRlX2lkPSR7cGFyYW1zLmNvbXB0ZV9pZH1gOw0KICAgIGlmIChwYXJhbXMubW9pcykgdXJsICs9IGAmbW9pcz0ke3BhcmFtcy5tb2lzfWA7DQogICAgDQogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsRGV0YWlsQ2F0ZWdvcmllVGl0bGUnKS50ZXh0Q29udGVudCA9IGBEw6l0YWlsOiAke2NhdGVnb3JpZU5vbX1gOw0KICAgIA0KICAgIGNvbnN0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFydFNvdXNDYXRlZ29yaWVzJykuZ2V0Q29udGV4dCgnMmQnKTsNCiAgICBpZiAoY2hhcnRTb3VzQ2F0ZWdvcmllcykgew0KICAgICAgICBjaGFydFNvdXNDYXRlZ29yaWVzLmRlc3Ryb3koKTsNCiAgICB9DQogICAgDQogICAgY2hhcnRTb3VzQ2F0ZWdvcmllcyA9IG5ldyBDaGFydChjdHgsIHsNCiAgICAgICAgdHlwZTogJ2RvdWdobnV0JywNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgbGFiZWxzOiBkYXRhLnNvdXNfY2F0ZWdvcmllcy5tYXAoc2MgPT4gc2Mubm9tKSwNCiAgICAgICAgICAgIGRhdGFzZXRzOiBbew0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuc291c19jYXRlZ29yaWVzLm1hcChzYyA9PiBzYy50b3RhbCksDQogICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBkYXRhLnNvdXNfY2F0ZWdvcmllcy5tYXAoKCkgPT4gZ2V0UmFuZG9tQ29sb3IoKSkNCiAgICAgICAgICAgIH1dDQogICAgICAgIH0sDQogICAgICAgIG9wdGlvbnM6IHsNCiAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsDQogICAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiB0cnVlLA0KICAgICAgICAgICAgcGx1Z2luczogew0KICAgICAgICAgICAgICAgIGxlZ2VuZDogew0KICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCiAgICANCiAgICBjb25zdCBsaXN0ZUh0bWwgPSBkYXRhLnRyYW5zYWN0aW9ucy5tYXAodCA9PiBgDQogICAgICAgIDxkaXYgY2xhc3M9ImJvcmRlci1ib3R0b20gcGItMiBtYi0yIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiI+DQogICAgICAgICAgICAgICAgPHN0cm9uZz4ke25ldyBEYXRlKHQuZGF0ZV90cmFuc2FjdGlvbikudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicpfTwvc3Ryb25nPg0KICAgICAgICAgICAgICAgIDxzdHJvbmc+JHtwYXJzZUZsb2F0KHQubW9udGFudCkudG9GaXhlZCgyKX0g4oKsPC9zdHJvbmc+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxzbWFsbCBjbGFzcz0idGV4dC1tdXRlZCI+JHt0LmxpYmVsbGUgfHwgJ1NhbnMgbGliZWxsw6knfTwvc21hbGw+DQogICAgICAgICAgICAke3Quc291c19jYXRlZ29yaWVfbm9tID8gYDxicj48c21hbGwgY2xhc3M9ImJhZGdlIGJnLXNlY29uZGFyeSI+JHt0LnNvdXNfY2F0ZWdvcmllX25vbX08L3NtYWxsPmAgOiAnJ30NCiAgICAgICAgPC9kaXY+DQogICAgYCkuam9pbignJyk7DQogICAgDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3RlVHJhbnNhY3Rpb25zJykuaW5uZXJIVE1MID0gbGlzdGVIdG1sIHx8IA0KICAgICAgICAnPHAgY2xhc3M9InRleHQtbXV0ZWQiPkF1Y3VuZSB0cmFuc2FjdGlvbjwvcD4nOw0KICAgIA0KICAgIG5ldyBib290c3RyYXAuTW9kYWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsRGV0YWlsQ2F0ZWdvcmllJykpLnNob3coKTsNCn0NCg0KZnVuY3Rpb24gZ2V0UmFuZG9tQ29sb3IoKSB7DQogICAgY29uc3QgbGV0dGVycyA9ICcwMTIzNDU2Nzg5QUJDREVGJzsNCiAgICBsZXQgY29sb3IgPSAnIyc7DQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHsNCiAgICAgICAgY29sb3IgKz0gbGV0dGVyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNildOw0KICAgIH0NCiAgICByZXR1cm4gY29sb3I7DQp9DQoNCi8vIFJhcHBvcnQgcGFyIFRhZ3MNCmFzeW5jIGZ1bmN0aW9uIGNoYXJnZXJSYXBwb3J0VGFncygpIHsNCiAgICBpZiAoIXBhcmFtcy5jb21wdGVfaWQpIHJldHVybjsNCiAgICANCiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFwcG9ydFRhZ3MnKTsNCiAgICANCiAgICB0cnkgew0KICAgICAgICBsZXQgdXJsID0gYGFwaS9yYXBwb3J0cy90YWdzP2NvbXB0ZV9pZD0ke3BhcmFtcy5jb21wdGVfaWR9JmFubmVlPSR7cGFyYW1zLmFubmVlfWA7DQogICAgICAgIGlmIChwYXJhbXMubW9pcykgdXJsICs9IGAmbW9pcz0ke3BhcmFtcy5tb2lzfWA7DQogICAgICAgIA0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7DQogICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyZXVyIHNlcnZldXInKTsNCiAgICAgICAgDQogICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgICAgIA0KICAgICAgICBpZiAoIWRhdGEudGFncyB8fCBkYXRhLnRhZ3MubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxwIGNsYXNzPSJ0ZXh0LW11dGVkIHRleHQtY2VudGVyIHB5LTQiPkF1Y3VuZSB0cmFuc2FjdGlvbiB0YWd1w6llIHN1ciBjZXR0ZSBww6lyaW9kZTwvcD4nOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBDb25zdHJ1aXJlIGxlIHRhYmxlYXUNCiAgICAgICAgbGV0IGh0bWwgPSBgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1yZXNwb25zaXZlIj4NCiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLWhvdmVyIj4NCiAgICAgICAgICAgICAgICAgICAgPHRoZWFkIGNsYXNzPSJ0YWJsZS1saWdodCI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlRhZzwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJ0ZXh0LWNlbnRlciI+VHJhbnNhY3Rpb25zPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9InRleHQtZW5kIj5Ub3RhbCBEw6liaXRzPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9InRleHQtZW5kIj5Ub3RhbCBDcsOpZGl0czwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJ0ZXh0LWVuZCI+QmFsYW5jZTwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPg0KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+DQogICAgICAgIGA7DQogICAgICAgIA0KICAgICAgICBkYXRhLnRhZ3MuZm9yRWFjaCh0YWcgPT4gew0KICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9IHBhcnNlRmxvYXQodGFnLnRvdGFsX2NyZWRpdHMpIC0gcGFyc2VGbG9hdCh0YWcudG90YWxfZGViaXRzKTsNCiAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VDbGFzcyA9IGJhbGFuY2UgPj0gMCA/ICd0ZXh0LXN1Y2Nlc3MnIDogJ3RleHQtZGFuZ2VyJzsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaHRtbCArPSBgDQogICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYmFkZ2UgYmctJHt0YWcuY29sb3J9IG1lLTEiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJiaSBiaS10YWctZmlsbCI+PC9pPiAke3RhZy5uYW1lfQ0KICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InRleHQtY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiYWRnZSBiZy1zZWNvbmRhcnkiPiR7dGFnLm5iX3RyYW5zYWN0aW9uc308L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0idGV4dC1lbmQgdGV4dC1kYW5nZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgJHtwYXJzZUZsb2F0KHRhZy50b3RhbF9kZWJpdHMpID4gMCA/ICctJyArIHBhcnNlRmxvYXQodGFnLnRvdGFsX2RlYml0cykudG9GaXhlZCgyKSArICcg4oKsJyA6ICctJ30NCiAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJ0ZXh0LWVuZCB0ZXh0LXN1Y2Nlc3MiPg0KICAgICAgICAgICAgICAgICAgICAgICAgJHtwYXJzZUZsb2F0KHRhZy50b3RhbF9jcmVkaXRzKSA+IDAgPyAnKycgKyBwYXJzZUZsb2F0KHRhZy50b3RhbF9jcmVkaXRzKS50b0ZpeGVkKDIpICsgJyDigqwnIDogJy0nfQ0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InRleHQtZW5kIGZ3LWJvbGQgJHtiYWxhbmNlQ2xhc3N9Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICR7YmFsYW5jZSA+PSAwID8gJysnIDogJyd9JHtiYWxhbmNlLnRvRml4ZWQoMil9IOKCrA0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICBgOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIGh0bWwgKz0gYA0KICAgICAgICAgICAgICAgICAgICA8L3Rib2R5Pg0KICAgICAgICAgICAgICAgICAgICA8dGZvb3QgY2xhc3M9InRhYmxlLWxpZ2h0IGZ3LWJvbGQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5UT1RBTDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJ0ZXh0LWNlbnRlciI+JHtkYXRhLnRvdGFsX3RyYW5zYWN0aW9uc308L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0idGV4dC1lbmQgdGV4dC1kYW5nZXIiPi0ke3BhcnNlRmxvYXQoZGF0YS50b3RhbF9kZWJpdHMpLnRvRml4ZWQoMil9IOKCrDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJ0ZXh0LWVuZCB0ZXh0LXN1Y2Nlc3MiPiske3BhcnNlRmxvYXQoZGF0YS50b3RhbF9jcmVkaXRzKS50b0ZpeGVkKDIpfSDigqw8L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0idGV4dC1lbmQgJHtwYXJzZUZsb2F0KGRhdGEuYmFsYW5jZSkgPj0gMCA/ICd0ZXh0LXN1Y2Nlc3MnIDogJ3RleHQtZGFuZ2VyJ30iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3BhcnNlRmxvYXQoZGF0YS5iYWxhbmNlKSA+PSAwID8gJysnIDogJyd9JHtwYXJzZUZsb2F0KGRhdGEuYmFsYW5jZSkudG9GaXhlZCgyKX0g4oKsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgIDwvdGZvb3Q+DQogICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICBgOw0KICAgICAgICANCiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGh0bWw7DQogICAgICAgIA0KICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBjaGFyZ2VtZW50IHJhcHBvcnQgdGFnczonLCBlcnJvcik7DQogICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iYWxlcnQgYWxlcnQtZGFuZ2VyIj5FcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGR1IHJhcHBvcnQgcGFyIHRhZ3M8L2Rpdj4nOw0KICAgIH0NCn0NCjwvc2NyaXB0Pg0KDQo8P3BocCByZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vbGF5b3V0cy9mb290ZXIucGhwJzsgPz4NCiI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";